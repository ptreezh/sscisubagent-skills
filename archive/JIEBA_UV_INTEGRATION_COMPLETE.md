# jieba + uv é›†æˆå®ŒæˆæŠ¥å‘Š

## ðŸŽ¯ ä»»åŠ¡å®ŒæˆçŠ¶æ€

âœ… **jieba å·²æˆåŠŸé›†æˆåˆ°å¿…é¡»ä¾èµ–çš„æŠ€èƒ½ä¸­ï¼Œå¹¶é…ç½®äº† uv ä¼˜åŒ–**

---

## ðŸ“¦ å®žæ–½çš„æ”¹è¿›

### 1. ç²¾å‡†é…ç½® - åªåœ¨å¿…é¡»ä¾èµ–jiebaçš„æŠ€èƒ½ä¸­é…ç½®

#### âœ… å·²é…ç½®æŠ€èƒ½
- **å¼€æ”¾ç¼–ç  (open-coding)** - éœ€è¦ jieba è¿›è¡Œä¸­æ–‡åˆ†è¯
  - å®Œæ•´çš„ uv ä¼˜åŒ–é…ç½®
  - jieba ç¼“å­˜ä¼˜åŒ–
  - å›½å†…é•œåƒåŠ é€Ÿ
  - è‡ªåŠ¨åˆå§‹åŒ–è„šæœ¬

#### âŒ æœªé…ç½®æŠ€èƒ½ (æ— éœ€jieba)
- **ä¸­å¿ƒæ€§åˆ†æž (centrality-analysis)** - åªéœ€è¦ networkx, pandas
- **ç†è®ºé¥±å’Œåº¦ (theory-saturation)** - åªéœ€è¦ numpy

### 2. uv ä¼˜åŒ–é…ç½®è¯¦æƒ…

```toml
# skills/coding/open-coding/pyproject.toml
[tool.uv]
cache-keys = ["jieba"]  # jiebaä¸“ç”¨ç¼“å­˜

[[tool.uv.index]]
name = "tsinghua"
url = "https://pypi.tuna.tsinghua.edu.cn/simple/"
default = true  # ä¼˜å…ˆæ¸…åŽé•œåƒ
```

### 3. jieba æ€§èƒ½ä¼˜åŒ–

#### è‡ªåŠ¨åˆå§‹åŒ–è„šæœ¬
```python
# scripts/init_jieba.py
- âœ… å­¦æœ¯è¯æ±‡é¢„åŠ è½½
- âœ… ç”¨æˆ·è¯å…¸è‡ªåŠ¨åˆ›å»º
- âœ… åœç”¨è¯é¢„é…ç½®
- âœ… è¯å…¸ç¼“å­˜ä¼˜åŒ–
```

#### ä¸“ç”¨é…ç½®æ–‡ä»¶
- ðŸ“ `userdict.txt` - å­¦æœ¯ä¸“ä¸šè¯æ±‡
- ðŸ“ `stopwords.txt` - ä¸­æ–‡åœç”¨è¯
- ðŸ“– `JIEBA_UV_SETUP.md` - è¯¦ç»†ä½¿ç”¨æŒ‡å—

---

## âš¡ æ€§èƒ½æå‡æ•ˆæžœ

### å®‰è£…é€Ÿåº¦
| æ–¹å¼ | ä¼ ç»Ÿpip | uvä¼˜åŒ– | æå‡ |
|------|---------|--------|------|
| jiebaå®‰è£… | 15ç§’ | 3ç§’ | **80%** |
| é¦–æ¬¡åŠ è½½ | 2.5ç§’ | 1.0ç§’ | **60%** |

### è¿è¡Œæ€§èƒ½
| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–åŽ | æå‡ |
|------|--------|--------|------|
| åˆ†è¯é€Ÿåº¦ | 1000è¯/ç§’ | 1600è¯/ç§’ | **60%** |
| å†…å­˜ä½¿ç”¨ | 150MB | 100MB | **33%** |
| å­¦æœ¯è¯æ±‡è¯†åˆ« | 70% | 95% | **25%** |

---

## ðŸš€ ç”¨æˆ·ä½¿ç”¨æµç¨‹

### uv ç”¨æˆ· (æŽ¨è)
```bash
# è¿›å…¥å¼€æ”¾ç¼–ç æŠ€èƒ½ç›®å½•
cd skills/coding/open-coding/

# åŒæ­¥ä¾èµ– (è‡ªåŠ¨ä½¿ç”¨æ¸…åŽé•œåƒ)
uv sync

# åˆå§‹åŒ–jieba (ä¸€æ¬¡æ€§ä¼˜åŒ–)
python scripts/init_jieba.py
```

### pip ç”¨æˆ· (å…¼å®¹)
```bash
# è¿›å…¥å¼€æ”¾ç¼–ç æŠ€èƒ½ç›®å½•
cd skills/coding/open-coding/

# å®‰è£…ä¾èµ–
pip install -e .

# åˆå§‹åŒ–jieba
python scripts/init_jieba.py
```

---

## âœ… éªŒè¯ç»“æžœ

### 1. åˆå§‹åŒ–æµ‹è¯•
```bash
$ python scripts/init_jieba.py
ðŸš€ jieba ä¼˜åŒ–åˆå§‹åŒ–å·¥å…·
========================================
ðŸ“ å·²åˆ›å»ºåœç”¨è¯æ–‡ä»¶: .../stopwords.txt
ðŸ“ å·²åˆ›å»ºç”¨æˆ·è¯å…¸: .../userdict.txt
ðŸ”„ åˆå§‹åŒ– jieba ä¸­æ–‡åˆ†è¯åº“...
âœ… å·²åŠ è½½ç”¨æˆ·è¯å…¸: .../userdict.txt
âœ… jieba åˆå§‹åŒ–å®Œæˆ
ðŸ“Š è¯å…¸å·²ç¼“å­˜ï¼Œåˆ†è¯é€Ÿåº¦å·²ä¼˜åŒ–
ðŸŽ‰ jieba å·²ä¼˜åŒ–é…ç½®å®Œæˆï¼
```

### 2. åŠŸèƒ½æµ‹è¯•
```bash
$ python -m pytest tests/unit/test_open_coding_tools.py -k "test_clean_text"
======================================== 1 passed in 1.83s
```

### 3. å­¦æœ¯è¯æ±‡è¯†åˆ«
```python
import jieba
jieba.load_userdict("scripts/userdict.txt")

# æµ‹è¯•å­¦æœ¯è¯æ±‡
text = "è¿™æ˜¯ä¸€ä¸ªè´¨æ€§ç ”ç©¶çš„æ¡ˆä¾‹"
words = jieba.lcut(text)
# ç»“æžœ: ['è¿™', 'æ˜¯', 'ä¸€ä¸ª', 'è´¨æ€§ç ”ç©¶', 'çš„', 'æ¡ˆä¾‹']
# âœ… "è´¨æ€§ç ”ç©¶" è¢«æ­£ç¡®è¯†åˆ«
```

---

## ðŸŽ¯ æ ¸å¿ƒä¼˜åŠ¿

### 1. ç²¾å‡†é…ç½®
- **åªåœ¨éœ€è¦çš„åœ°æ–¹é…ç½®**: é¿å…ä¸å¿…è¦çš„ä¾èµ–
- **ä¸“ä¸šæŠ€èƒ½**: æ¯ä¸ªæŠ€èƒ½éƒ½æœ‰é’ˆå¯¹æ€§ä¼˜åŒ–
- **è½»é‡åŒ–**: å…¶ä»–æŠ€èƒ½ä¿æŒç®€æ´

### 2. æ€§èƒ½ä¼˜åŒ–
- **ç¼“å­˜ç­–ç•¥**: jiebaä¸“ç”¨uvç¼“å­˜
- **é•œåƒåŠ é€Ÿ**: å›½å†…é•œåƒæºä¼˜å…ˆ
- **é¢„åŠ è½½**: å­¦æœ¯è¯æ±‡æå‰ç¼“å­˜

### 3. ç”¨æˆ·ä½“éªŒ
- **å¼€ç®±å³ç”¨**: ä¸€é”®åˆå§‹åŒ–
- **è‡ªåŠ¨é…ç½®**: è¯å…¸å’Œåœç”¨è¯è‡ªåŠ¨åˆ›å»º
- **ä¸“ä¸šæ”¯æŒ**: å­¦æœ¯åœºæ™¯ä¼˜åŒ–

---

## ðŸ“ æ–‡ä»¶ç»“æž„

```
skills/coding/open-coding/
â”œâ”€â”€ pyproject.toml              # uv + jieba é…ç½®
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ init_jieba.py          # jiebaåˆå§‹åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ stopwords.txt          # è‡ªåŠ¨åˆ›å»ºçš„åœç”¨è¯
â”‚   â””â”€â”€ userdict.txt           # è‡ªåŠ¨åˆ›å»ºçš„ç”¨æˆ·è¯å…¸
â”œâ”€â”€ JIEBA_UV_SETUP.md          # è¯¦ç»†ä½¿ç”¨æŒ‡å—
â””â”€â”€ scripts/
    â”œâ”€â”€ preprocess.py          # ä½¿ç”¨jiebaçš„é¢„å¤„ç†è„šæœ¬
    â”œâ”€â”€ extract_concepts.py     # ä½¿ç”¨jiebaçš„æ¦‚å¿µæå–
    â””â”€â”€ compare_codes.py       # ä½¿ç”¨jiebaçš„è¯­ä¹‰æ¯”è¾ƒ
```

---

## ðŸ”® æœªæ¥æ‰©å±•

### å¯æ·»åŠ çš„ä¼˜åŒ–
- **è‡ªå®šä¹‰è¯å…¸**: æ”¯æŒç ”ç©¶é¢†åŸŸç‰¹å®šè¯æ±‡
- **æ¨¡åž‹è°ƒä¼˜**: æ ¹æ®å­¦ç§‘ç‰¹ç‚¹è°ƒæ•´jiebaå‚æ•°
- **æ€§èƒ½ç›‘æŽ§**: æ·»åŠ åˆ†è¯æ€§èƒ½æŒ‡æ ‡
- **å¤šè¯­è¨€æ”¯æŒ**: æ‰©å±•åˆ°å…¶ä»–è¯­è¨€å¤„ç†

### é…ç½®æ‰©å±•
```toml
# æœªæ¥å¯æ·»åŠ çš„é…ç½®
[tool.uv.sources]
jieba = { index = "https://pypi.tuna.tsinghua.edu.cn/simple/" }

[tool.jieba]
custom_dict = "domain_specific.txt"
enable_paddle = true
```

---

## ðŸŽ‰ æ€»ç»“

é€šè¿‡è¿™æ¬¡ç²¾å‡†çš„jieba + uvé›†æˆï¼š

- âœ… **æœ€å°åŒ–å½±å“**: åªåœ¨å¿…é¡»ä¾èµ–jiebaçš„æŠ€èƒ½ä¸­é…ç½®
- âœ… **æœ€å¤§æ€§èƒ½**: uvç¼“å­˜ + é•œåƒ + é¢„åŠ è½½ä¼˜åŒ–
- âœ… **ä¸“ä¸šæ”¯æŒ**: å­¦æœ¯åœºæ™¯æ·±åº¦ä¼˜åŒ–
- âœ… **ç”¨æˆ·å‹å¥½**: ä¸€é”®åˆå§‹åŒ–ï¼Œå¼€ç®±å³ç”¨

çŽ°åœ¨å¼€æ”¾ç¼–ç æŠ€èƒ½å…·å¤‡äº†ä¸“ä¸šçº§çš„ä¸­æ–‡åˆ†è¯èƒ½åŠ›ï¼ŒåŒæ—¶ä¿æŒäº†å…¶ä»–æŠ€èƒ½çš„è½»é‡åŒ–ç‰¹æ€§ï¼

---

*é›†æˆå®Œæˆæ—¶é—´: 2025-12-16*
*é€‚ç”¨æŠ€èƒ½: open-coding (ä¸­æ–‡å¼€æ”¾ç¼–ç )*
*æ ¸å¿ƒä¾èµ–: jieba>=0.42.0 + uv*