# 范畴构建问题排查

> **前置阅读**：建议先查看 `INDEX.md` 快速诊断表。

## 问题1：范畴过于宽泛

### 症状
- 单个范畴包含10个以上概念
- 范畴内概念差异很大
- 范畴定义过于笼统（如"学习行为"）

### 诊断
```bash
python scripts/validate_categories.py --input categories.json
# 查看 internal_consistency 分数
# < 0.6：范畴过于宽泛
```

### 解决方案

**方案A：增加聚类数量**
```bash
python scripts/identify_categories.py \
  --input codes.json \
  --output categories_v2.json \
  --n_categories 8  # 从5增加到8
```

**方案B：手动拆分范畴**

将"学习相关行为"拆分为：
1. 课堂学习行为
2. 课后学习行为
3. 深度学习行为

**方案C：提升抽象层次**

不是"学习相关行为"（过于具体）
而是"主动学习策略"（有理论意义）

### 验证
- ✅ 每个范畴包含3-8个概念
- ✅ 范畴内概念高度相关
- ✅ 范畴定义清晰具体

---

## 问题2：概念归属不明确

### 症状
- 某些概念可以归入多个范畴
- 工具将同一概念归入不同范畴

### 诊断
```bash
python scripts/compare_codes.py \
  --input concepts.json \
  --threshold 0.5
# 查看 ambiguous_concepts 字段
```

### 解决方案

**方案A：明确范畴边界**

重新定义范畴，明确区分标准：
```
范畴A：主动寻求学业支持
- 关键特征：目的是解决学习问题

范畴B：建立社会支持网络
- 关键特征：目的是建立友谊、获得情感支持
```

**方案B：创建桥接概念**

如果概念确实同时具有两个范畴的特征，将其作为连接两个范畴的"桥接概念"

**方案C：拆分概念**
- "向同学请教学习问题" → 范畴A
- "与同学建立学习伙伴关系" → 范畴B

---

## 问题3：范畴命名不当

### 症状
- 范畴名称过于具体（如"去图书馆学习"）
- 范畴名称过于抽象（如"行为"）
- 范畴名称是名词而非动词短语

### 解决方案

**遵循命名原则**：

1. **行动导向**：使用动词开头
   - "寻求"、"调整"、"建立"

2. **适度抽象**：不过具体，不过抽象
   - 过具体："去图书馆复习高数"
   - 适度："调整学习方法"
   - 过抽象："学习"

3. **理论意义**：体现理论概念
   - 不仅是"帮助"，而是"主动寻求学业支持"

### 验证
- ✅ 使用动词短语
- ✅ 抽象层次适当
- ✅ 有理论意义

---

## 快速修复命令

```bash
# 问题1：范畴过于宽泛
python scripts/identify_categories.py --n_categories 8

# 问题2：概念归属不明确
python scripts/compare_codes.py --threshold 0.5

# 问题3：范畴命名
# 需要人工修改，参考命名原则
```

---

*文档大小：约500字 | 阅读时间：2分钟*
